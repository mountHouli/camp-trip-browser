# camp-trip-browser
For booking trips.

## Miscellaneous Notes

Used node v9.8.0 while developing.

npm script "lint" explicity specifies exit status 0 because eslint produces exit status 1 when it finds lint errors and the npm script runner detects this and reports that the command had an error.

## To-Do

- fix eslint no-console rule
- Revisit .eslintrc.json React recommended settings
- In server.js, require() paths are relative to where things sit in the dist directory, so make them work for dev as well

- Build system
  - Debugger
  - Minify
  - Remove "devtool" parameter from production webpack configs.
  - webpack library function name
  - clean dist/ dir

## Done

- Build system
  - Setup SSR for prod env
  - client/server/shared folder structure

## How environmentt and build system works

### When making a request to the production SSR server

- The node server (dist/server.js) handles all GET requests (requests to ANY path).
- It uses dist/ssrBundle.js (created by webpack.config.ssrBundle.js) to render the react for the requested page (react-router chooses what to render based on the URL path) and plug it into html generated from a template, which it then returns to the client.
- When that html reaches the browser, it has element `<script src="/public/browserBundle.js"></script>` which makes the browser grab dist/public/browserBundle.js (which is generated by webpack.config.browserBundle.js; also which dist/server.js's express.static() is configured to return), which--upon getting to the browser--runs and calls ReactDOM.hydrate to hydrate the existing HTML that was originally put there by ssrBundle.js
